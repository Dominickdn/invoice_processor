<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Captured Invoices</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-200 p-6">
    <div class="max-w-3xl mx-auto">
        <!-- Centered title -->
        <h1 class="text-3xl font-bold mb-6 text-center">All Captured Invoices</h1>

        {% if invoices %}
            {% for invoice in invoices %}
                <div class="bg-gray-800 rounded-lg p-4 mb-4 shadow">
                    <p><strong>Invoice Number:</strong> {{ invoice.invoice_number }}</p>
                    <p><strong>Date:</strong> {{ invoice.invoice_date }}</p>
                    <p><strong>Vendor:</strong> {{ invoice.vendor }}</p>
                    <p><strong>Total:</strong> {{ invoice.total_amount_due }}</p>

                    {% if invoice["items"] %}
                        <h3 class="mt-3 font-semibold">Items:</h3>
                        <ul class="list-disc ml-6 text-sm">
                            {% for item in invoice["items"] %}
                                <li>{{ item.item }} — Qty: {{ item.qty }}, Unit Price: {{ item.unit_price }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-sm text-gray-400">No items found.</p>
                    {% endif %}
                </div>
            {% endfor %}

            <!-- Pagination -->
            <div class="mt-6 flex justify-between">
                {% if page > 1 %}
                    <a href="{{ url_for('invoices', page=page-1) }}" class="text-blue-400 hover:underline">← Previous</a>
                {% else %}
                    <span></span>
                {% endif %}
                {% if has_next %}
                    <a href="{{ url_for('invoices', page=page+1) }}" class="text-blue-400 hover:underline ml-auto">Next →</a>
                {% endif %}
            </div>
        {% else %}
            <p class="mt-6 text-gray-400 text-center">No invoices captured yet.</p>
        {% endif %}

        <div class="mt-6 flex justify-center space-x-6">
            <a href="/" class="text-blue-400 hover:underline">Upload Page</a>
        </div>
        <div class="mt-6 flex justify-center space-x-6">
            <a href="/status" class="text-blue-400 hover:underline">View Processed/Failed Files</a>
        </div>
    </div>
</body>
</html>